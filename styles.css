const envelope = document.getElementById("envelope");
const intro = document.getElementById("intro");
const main = document.getElementById("main");

const crack = document.getElementById("crackSound");
const paper = document.getElementById("paperSound");

let opened = false;

function playSound(audio){
    audio.currentTime = 0;
    audio.play().catch(()=>{});
}

envelope.addEventListener("click", () => {

    if(opened) return;
    opened = true;

    // Crack del sello
    playSound(crack);

    setTimeout(()=>{
        envelope.classList.add("open");
        playSound(paper);
    }, 400);

    // TransiciÃ³n total ~2.5s
    setTimeout(()=>{
        intro.classList.add("fade");
        main.classList.add("show");
    }, 2500);
});

